requires "edsl.md"

module JUG-BIN-RUNTIME
    imports public BIN-RUNTIME
    
    syntax Contract ::= JugContract 
    
    syntax JugContract ::= "Jug" [klabel(contract_Jug), symbol()]
    
    syntax JugStorage ::= "wards" "[" Int "]" 
    
    syntax JugStorage ::= "ilks" "[" Int "]" "." "duty" 
    
    syntax JugStorage ::= "ilks" "[" Int "]" "." "rho" 
    
    syntax JugStorage ::= "vow" 
    
    syntax JugStorage ::= "base" 
    
    syntax Int ::= JugContract "." JugStorage [klabel(storage_Jug), alias()]
    
    rule  ( Jug.wards[V0] => #hashedLocation("Solidity", 0 +Int 0, V0) )
      
    
    rule  ( Jug.ilks[V0].duty => #hashedLocation("Solidity", 0 +Int 1, V0) +Int 0 )
      
    
    rule  ( Jug.ilks[V0].rho => #hashedLocation("Solidity", 0 +Int 1, V0) +Int 1 )
      
    
    rule  ( Jug.vow => 0 +Int 2 )
      
    
    rule  ( Jug.base => 0 +Int 3 )
      
    
    syntax ByteArray ::= JugContract "." JugFunction [klabel(function_Jug), symbol(), function()]
    
    syntax JugFunction ::= "base" "(" ")" 
    
    syntax JugFunction ::= "deny" "(" Int ")" 
    
    syntax JugFunction ::= "drip" "(" Int ")" 
    
    syntax JugFunction ::= "file" "(" Int "," Int "," Int ")" 
    
    syntax JugFunction ::= "file" "(" Int "," Int ")" 
    
    syntax JugFunction ::= "file" "(" Int "," Int ")" 
    
    syntax JugFunction ::= "ilks" "(" Int ")" 
    
    syntax JugFunction ::= "init" "(" Int ")" 
    
    syntax JugFunction ::= "rely" "(" Int ")" 
    
    syntax JugFunction ::= "vat" "(" ")" 
    
    syntax JugFunction ::= "vow" "(" ")" 
    
    syntax JugFunction ::= "wards" "(" Int ")" 
    
    rule  ( Jug.base() => #abiCallData("base", .TypedArgs) )
      
    
    rule  ( Jug.deny(USR) => #abiCallData("deny", #address( USR )) )
       ensures #rangeAddress(USR)
      
    
    rule  ( Jug.drip(ILK) => #abiCallData("drip", #bytes32( ILK )) )
       ensures #rangeUInt(256, ILK)
      
    
    rule  ( Jug.file(ILK, WHAT, DATA) => #abiCallData("file", #bytes32( ILK ), #bytes32( WHAT ), #uint256( DATA )) )
       ensures ( #rangeUInt(256, ILK)
       andBool ( #rangeUInt(256, WHAT)
       andBool ( #rangeUInt(256, DATA)
               )))
      
    
    rule  ( Jug.file(WHAT, DATA) => #abiCallData("file", #bytes32( WHAT ), #uint256( DATA )) )
       ensures ( #rangeUInt(256, WHAT)
       andBool ( #rangeUInt(256, DATA)
               ))
      
    
    rule  ( Jug.file(WHAT, DATA) => #abiCallData("file", #bytes32( WHAT ), #address( DATA )) )
       ensures ( #rangeUInt(256, WHAT)
       andBool ( #rangeAddress(DATA)
               ))
      
    
    rule  ( Jug.ilks(V0) => #abiCallData("ilks", #bytes32( V0 )) )
       ensures #rangeUInt(256, V0)
      
    
    rule  ( Jug.init(ILK) => #abiCallData("init", #bytes32( ILK )) )
       ensures #rangeUInt(256, ILK)
      
    
    rule  ( Jug.rely(USR) => #abiCallData("rely", #address( USR )) )
       ensures #rangeAddress(USR)
      
    
    rule  ( Jug.vat() => #abiCallData("vat", .TypedArgs) )
      
    
    rule  ( Jug.vow() => #abiCallData("vow", .TypedArgs) )
      
    
    rule  ( Jug.wards(V0) => #abiCallData("wards", #address( V0 )) )
       ensures #rangeAddress(V0)
      
    
    rule  ( #binRuntime(Jug) => #parseByteStack( "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c8063626cb3c511610071578063626cb3c51461017957806365fae35e146101975780639c52a7f1146101b3578063bf353dbb146101cf578063d4e8be83146101ff578063d9638d361461021b576100b4565b80631a0b287e146100b957806329ae8114146100d557806336569e77146100f15780633b6631951461010f57806344e2a5a81461012b5780635001f3b51461015b575b600080fd5b6100d360048036038101906100ce9190610dcd565b61024c565b005b6100ef60048036038101906100ea9190610e20565b6103e5565b005b6100f9610510565b6040516101069190610edf565b60405180910390f35b61012960048036038101906101249190610efa565b610534565b005b61014560048036038101906101409190610efa565b610662565b6040516101529190610f36565b60405180910390f35b61016361089c565b6040516101709190610f36565b60405180910390f35b6101816108a2565b60405161018e9190610f72565b60405180910390f35b6101b160048036038101906101ac9190610fb9565b6108c8565b005b6101cd60048036038101906101c89190610fb9565b6109d3565b005b6101e960048036038101906101e49190610fb9565b610ade565b6040516101f69190610f36565b60405180910390f35b61021960048036038101906102149190610fe6565b610af6565b005b61023560048036038101906102309190610efa565b610c5b565b604051610243929190611026565b60405180910390f35b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054146102cd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102c4906110ac565b60405180910390fd5b60016000848152602001908152602001600020600101544214610325576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161031c90611118565b60405180910390fd5b7f6475747900000000000000000000000000000000000000000000000000000000820361036c578060016000858152602001908152602001600020600001819055506103a7565b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039e90611184565b60405180910390fd5b81837f851aa1caf4888170ad8875449d18f0f512fd6deb2a6571ea1a41fb9f95acbcd1836040516103d89190610f36565b60405180910390a3505050565b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414610466576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161045d906110ac565b60405180910390fd5b7f6261736500000000000000000000000000000000000000000000000000000000820361049957806003819055506104d4565b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104cb90611184565b60405180910390fd5b817fe986e40cc8c151830d4f61050f4fb2e4add8567caad2d5f5496f9158e91fe4c7826040516105049190610f36565b60405180910390a25050565b7f000000000000000000000000000000000000000000000000000000000000000081565b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054146105b5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ac906110ac565b60405180910390fd5b60006001600083815260200190815260200160002090506000816000015414610613576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161060a906111f0565b60405180910390fd5b6b033b2e3c9fd0803ce80000008160000181905550428160010181905550817feeb45f27c5b399a603237b10d4803743d494bfc24c3a004cadb716c41033a55560405160405180910390a25050565b6000807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663d9638d36846040518263ffffffff1660e01b81526004016106be919061121f565b60408051808303816000875af11580156106dc573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610700919061124f565b9150506b033b2e3c9fd0803ce80000008161076c600160008781526020019081526020016000206000015460035461073891906112be565b60016000888152602001908152602001600020600101544261075a9190611314565b6b033b2e3c9fd0803ce8000000610c7f565b6107769190611348565b61078091906113d1565b91507f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1663b65337df84600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166107eb85610d45565b6107f487610d45565b6107fe919061140c565b6040518463ffffffff1660e01b815260040161081c939291906114af565b600060405180830381600087803b15801561083657600080fd5b505af115801561084a573d6000803e3d6000fd5b50505050426001600085815260200190815260200160002060010181905550827f1a8a2b98fb9771b790a80942290f77387392339b6fbdecc4f438f5a5bd4d9edc60405160405180910390a250919050565b60035481565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414610949576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610940906110ac565b60405180910390fd5b60016000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508073ffffffffffffffffffffffffffffffffffffffff167fdd0e34038ac38b2a1ce960229778ac48a8719bc900b6c4f8d0475c6e8b385a6060405160405180910390a250565b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414610a54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a4b906110ac565b60405180910390fd5b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508073ffffffffffffffffffffffffffffffffffffffff167f184450df2e323acec0ed3b5c7531b81f9b4cdef7914dfd4c0a4317416bb5251b60405160405180910390a250565b60006020528060005260406000206000915090505481565b60016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205414610b77576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b6e906110ac565b60405180910390fd5b7f766f7700000000000000000000000000000000000000000000000000000000008203610be45780600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610c1f565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1690611184565b60405180910390fd5b817f8fef588b5fc1afbf5b2f06c1a435d513f208da2e6704c3d8f0e0ec91167066ba82604051610c4f9190610f72565b60405180910390a25050565b60016020528060005260406000206000915090508060000154908060010154905082565b60008360008114610d25576002840660008114610c9e57859250610ca2565b8392505b50600283046002850494505b8415610d1f578586028687820414610cc557600080fd5b81810181811015610cd557600080fd5b85810497506002870615610d12578785028589820414158915151615610cfa57600080fd5b83810181811015610d0a57600080fd5b878104965050505b5050600285049450610cae565b50610d3d565b8360008114610d375760009250610d3b565b8392505b505b509392505050565b600080829150811215610d5757600080fd5b919050565b600080fd5b6000819050919050565b610d7481610d61565b8114610d7f57600080fd5b50565b600081359050610d9181610d6b565b92915050565b6000819050919050565b610daa81610d97565b8114610db557600080fd5b50565b600081359050610dc781610da1565b92915050565b600080600060608486031215610de657610de5610d5c565b5b6000610df486828701610d82565b9350506020610e0586828701610d82565b9250506040610e1686828701610db8565b9150509250925092565b60008060408385031215610e3757610e36610d5c565b5b6000610e4585828601610d82565b9250506020610e5685828601610db8565b9150509250929050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000610ea5610ea0610e9b84610e60565b610e80565b610e60565b9050919050565b6000610eb782610e8a565b9050919050565b6000610ec982610eac565b9050919050565b610ed981610ebe565b82525050565b6000602082019050610ef46000830184610ed0565b92915050565b600060208284031215610f1057610f0f610d5c565b5b6000610f1e84828501610d82565b91505092915050565b610f3081610d97565b82525050565b6000602082019050610f4b6000830184610f27565b92915050565b6000610f5c82610e60565b9050919050565b610f6c81610f51565b82525050565b6000602082019050610f876000830184610f63565b92915050565b610f9681610f51565b8114610fa157600080fd5b50565b600081359050610fb381610f8d565b92915050565b600060208284031215610fcf57610fce610d5c565b5b6000610fdd84828501610fa4565b91505092915050565b60008060408385031215610ffd57610ffc610d5c565b5b600061100b85828601610d82565b925050602061101c85828601610fa4565b9150509250929050565b600060408201905061103b6000830185610f27565b6110486020830184610f27565b9392505050565b600082825260208201905092915050565b7f4a75672f6e6f742d617574686f72697a65640000000000000000000000000000600082015250565b600061109660128361104f565b91506110a182611060565b602082019050919050565b600060208201905081810360008301526110c581611089565b9050919050565b7f4a75672f72686f2d6e6f742d7570646174656400000000000000000000000000600082015250565b600061110260138361104f565b915061110d826110cc565b602082019050919050565b60006020820190508181036000830152611131816110f5565b9050919050565b7f4a75672f66696c652d756e7265636f676e697a65642d706172616d0000000000600082015250565b600061116e601b8361104f565b915061117982611138565b602082019050919050565b6000602082019050818103600083015261119d81611161565b9050919050565b7f4a75672f696c6b2d616c72656164792d696e6974000000000000000000000000600082015250565b60006111da60148361104f565b91506111e5826111a4565b602082019050919050565b60006020820190508181036000830152611209816111cd565b9050919050565b61121981610d61565b82525050565b60006020820190506112346000830184611210565b92915050565b60008151905061124981610da1565b92915050565b6000806040838503121561126657611265610d5c565b5b60006112748582860161123a565b92505060206112858582860161123a565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006112c982610d97565b91506112d483610d97565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156113095761130861128f565b5b828201905092915050565b600061131f82610d97565b915061132a83610d97565b92508282101561133d5761133c61128f565b5b828203905092915050565b600061135382610d97565b915061135e83610d97565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156113975761139661128f565b5b828202905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006113dc82610d97565b91506113e783610d97565b9250826113f7576113f66113a2565b5b828204905092915050565b6000819050919050565b600061141782611402565b915061142283611402565b9250827f80000000000000000000000000000000000000000000000000000000000000000182126000841215161561145d5761145c61128f565b5b827f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0182136000841216156114955761149461128f565b5b828203905092915050565b6114a981611402565b82525050565b60006060820190506114c46000830186611210565b6114d16020830185610f63565b6114de60408301846114a0565b94935050505056fea26469706673582212206272eff758eac02d6c65e1253b6e4b091ab502d6b8e1db58b0c3507c90b6221264736f6c637828302e382e31332d646576656c6f702e323032322e342e32362b636f6d6d69742e61626161356330650059" ) )
      
    
    rule  ( selector("base") => 1342305205 )
      
    
    rule  ( selector("deny") => 2622662641 )
      
    
    rule  ( selector("drip") => 1155704232 )
      
    
    rule  ( selector("file") => 3572022915 )
      
    
    rule  ( selector("file") => 436938878 )
      
    
    rule  ( selector("file") => 699302164 )
      
    
    rule  ( selector("ilks") => 3647180086 )
      
    
    rule  ( selector("init") => 996553109 )
      
    
    rule  ( selector("rely") => 1710941022 )
      
    
    rule  ( selector("vat") => 911646327 )
      
    
    rule  ( selector("vow") => 1651291077 )
      
    
    rule  ( selector("wards") => 3207937467 )
      

endmodule

